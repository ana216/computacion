<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<h1>Consignaciones</h1>


</h:head>

<h:body>
	<h:form id="frmConsignacion">
		<p:tabView>


			<p:tab title="Realizar consignación">
				<h:panelGrid columns="2">
					<p:outputLabel value="Usuario que realiza la consignación" />

					<p:selectOneMenu binding="#{consignacionesView.sUsuarios}"
						required="true" label="Text 3">
						<f:selectItem itemLabel="Seleccionar uno" itemValue="-1"
							noSelectionOption="true" />
						<f:selectItems value="#{consignacionesView.lstUsuariosItem}" />
						<p:ajax
							listener="#{consignacionesView.txtClienteIdentificacionListener}"
							update="frmConsignacion,growl"></p:ajax>

					</p:selectOneMenu>


					<p:outputLabel
						value="Id del cliente propietario de la cuenta a consignar" />

					<p:inputText binding="#{consignacionesView.txtIdCliente}">
						<p:ajax
							listener="#{consignacionesView.txtClienteIdentificacionListener}"
							update="frmConsignacion,growl"></p:ajax>

					</p:inputText>

				</h:panelGrid>
				<p:panel visible="false" binding="#{consignacionesView.panel1}">
					<h:panelGrid columns="2">

						<p:outputLabel value="Número de cuenta" />

						<p:selectOneMenu binding="#{consignacionesView.sCuentas}"
							required="true" label="Text 3">
							<f:selectItem itemLabel="Seleccionar uno" itemValue="-1"
								noSelectionOption="true" />
							<f:selectItems value="#{consignacionesView.lstCuentasItem}" />

						</p:selectOneMenu>


						<p:outputLabel value="Valor consignación" />

						<p:inputNumber value="#{consignacionesView.txtValor}"
							decimalPlaces="2">

						</p:inputNumber>


						<p:outputLabel value="Clave" />
						<p:password id="feedback" value="#{cuentaView.txtCueClave}"
							feedback="true" />

					</h:panelGrid>
				</p:panel>
				<p:growl id="growl" life="2000" />


				<p:growl id="message" showDetail="true" />



				<h:panelGrid columns="5">
					<p:commandButton icon="ui-icon-check"
						binding="#{cuentaView.btnCrear}" disabled="false" id="btnCrear"
						action="#{cuentaView.action_crear}" value="Crear"
						update="frmCuenta, growl" oncomplete="PF('tblCuenta').filter()" />
					<p:commandButton disabled="true"
						binding="#{cuentaView.btnModificar}" id="btnModificar"
						value="Modificar" update="frmCuenta, growl"
						oncomplete="PF('tblCliente').filter()"
						action="#{cuentaView.action_modificar}" />
					<p:commandButton disabled="true"
						binding="#{cuentaView.btnEliminar}" id="btnBorrar"
						value="Inactivar" update="frmCuenta, growl"
						oncomplete="PF('tblCuenta').filter()"
						action="#{cuentaView.action_inactivar}" />
					<p:commandButton id="btnLimpiar" binding="#{cuentaView.btnLimpiar}"
						value="Limpiar" update="frmCuenta, growl"
						oncomplete="PF('tblCuenta').filter()"
						action="#{cuentaView.action_limpiar}" />
					<p:commandButton id="btnAcivarCliente"
						binding="#{cuentaView.btnActivar}" value="Activar"
						update="frmCuenta, growl" oncomplete="PF('tblCuenta').filter()"
						action="#{cuentaView.action_activar}" />
				</h:panelGrid>
			</p:tab>

			<p:tab title="Gestionar cuenta">

				<p:panel>

					<p:dataTable widgetVar="tblCliente2" var="cuenta" rows="10"
						paginator="true" value="#{cuentaView.lstCuentas}"
						emptyMessage="No hay clientes con ese criterio"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						rowsPerPageTemplate="5,10,15">

						<f:facet name="header">
							<p:outputPanel>
								<h:outputText value="Busca en todos los campos:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('tblCliente2').filter()" style="width:150px"
									placeholder="Ingresa palabra clave" />
							</p:outputPanel>
						</f:facet>

						<p:column filterBy="#{cuenta.clientes.cliId}"
							headerText="Id del cliente" filterMatchMode="contains">
							<h:outputText value="#{cuenta.clientes.cliId}" />
						</p:column>



						<p:column headerText="Número de cuenta"
							filterBy="#{cuenta.cueNumero}" filterMatchMode="contains">
							<h:outputText value="#{cuenta.cueNumero}" />
						</p:column>

						<p:column headerText="Saldo" filterBy="#{cuenta.cueSaldo}"
							filterMatchMode="contains">
							<h:outputText value="#{cuenta.cueSaldo}" />
						</p:column>
					</p:dataTable>
				</p:panel>
			</p:tab>
		</p:tabView>
	</h:form>
</h:body>






</html>
